(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,u){if(u!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{VERSION:()=>a,after:()=>Ut,all:()=>on,allKeys:()=>be,any:()=>un,assign:()=>Ue,before:()=>Bt,bind:()=>jt,bindAll:()=>Mt,chain:()=>St,chunk:()=>Vn,clone:()=>We,collect:()=>Xt,compact:()=>kn,compose:()=>qt,constant:()=>ne,contains:()=>sn,countBy:()=>Sn,create:()=>Le,debounce:()=>Nt,default:()=>zn,defaults:()=>Be,defer:()=>kt,delay:()=>Dt,detect:()=>Jt,difference:()=>Nn,drop:()=>In,each:()=>Qt,escape:()=>lt,every:()=>on,extend:()=>qe,extendOwn:()=>Ue,filter:()=>nn,find:()=>Jt,findIndex:()=>Vt,findKey:()=>Lt,findLastIndex:()=>Kt,findWhere:()=>Yt,first:()=>Mn,flatten:()=>Tn,foldl:()=>en,foldr:()=>tn,forEach:()=>Qt,functions:()=>Re,get:()=>Ge,groupBy:()=>bn,has:()=>He,head:()=>Mn,identity:()=>Je,include:()=>sn,includes:()=>sn,indexBy:()=>wn,indexOf:()=>Gt,initial:()=>An,inject:()=>en,intersection:()=>Un,invert:()=>Ne,invoke:()=>an,isArguments:()=>Z,isArray:()=>Y,isArrayBuffer:()=>L,isBoolean:()=>k,isDataView:()=>J,isDate:()=>q,isElement:()=>T,isEmpty:()=>he,isEqual:()=>_e,isError:()=>B,isFinite:()=>ee,isFunction:()=>K,isMap:()=>Ae,isMatch:()=>pe,isNaN:()=>te,isNull:()=>I,isNumber:()=>P,isObject:()=>M,isRegExp:()=>U,isSet:()=>Ie,isString:()=>R,isSymbol:()=>F,isTypedArray:()=>ae,isUndefined:()=>D,isWeakMap:()=>Me,isWeakSet:()=>De,iteratee:()=>et,keys:()=>fe,last:()=>Dn,lastIndexOf:()=>Ht,map:()=>Xt,mapObject:()=>nt,matcher:()=>Ye,matches:()=>Ye,max:()=>fn,memoize:()=>It,methods:()=>Re,min:()=>hn,mixin:()=>$n,negate:()=>Pt,noop:()=>rt,now:()=>st,object:()=>Ln,omit:()=>Cn,once:()=>Ft,pairs:()=>Te,partial:()=>xt,partition:()=>On,pick:()=>jn,pluck:()=>cn,property:()=>Qe,propertyOf:()=>it,random:()=>ut,range:()=>Wn,reduce:()=>en,reduceRight:()=>tn,reject:()=>rn,rest:()=>In,restArguments:()=>A,result:()=>_t,sample:()=>vn,select:()=>nn,shuffle:()=>mn,size:()=>En,some:()=>un,sortBy:()=>yn,sortedIndex:()=>$t,tail:()=>In,take:()=>Mn,tap:()=>Ve,template:()=>gt,templateSettings:()=>ht,throttle:()=>Tt,times:()=>ot,toArray:()=>dn,toPath:()=>Ke,transpose:()=>Bn,unescape:()=>ft,union:()=>qn,uniq:()=>Pn,unique:()=>Pn,uniqueId:()=>wt,unzip:()=>Bn,values:()=>ke,where:()=>ln,without:()=>Rn,wrap:()=>Rt,zip:()=>Fn});const t=window.wp.element,r=window.ReactDOM;var i=n.n(r);const o=window.React;var u=n(697),s=n.n(u),a="1.13.6",c="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},l=Array.prototype,f=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,p=l.push,d=l.slice,v=f.toString,m=f.hasOwnProperty,y="undefined"!=typeof ArrayBuffer,g="undefined"!=typeof DataView,_=Array.isArray,b=Object.keys,w=Object.create,S=y&&ArrayBuffer.isView,O=isNaN,E=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=Math.pow(2,53)-1;function A(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function M(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function I(e){return null===e}function D(e){return void 0===e}function k(e){return!0===e||!1===e||"[object Boolean]"===v.call(e)}function T(e){return!(!e||1!==e.nodeType)}function N(e){var t="[object "+e+"]";return function(e){return v.call(e)===t}}const R=N("String"),P=N("Number"),q=N("Date"),U=N("RegExp"),B=N("Error"),F=N("Symbol"),L=N("ArrayBuffer");var W=N("Function"),V=c.document&&c.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof V&&(W=function(e){return"function"==typeof e||!1});const K=W,$=N("Object");var z=g&&$(new DataView(new ArrayBuffer(8))),G="undefined"!=typeof Map&&$(new Map),H=N("DataView");const J=z?function(e){return null!=e&&K(e.getInt8)&&L(e.buffer)}:H,Y=_||N("Array");function Q(e,t){return null!=e&&m.call(e,t)}var X=N("Arguments");!function(){X(arguments)||(X=function(e){return Q(e,"callee")})}();const Z=X;function ee(e){return!F(e)&&E(e)&&!isNaN(parseFloat(e))}function te(e){return P(e)&&O(e)}function ne(e){return function(){return e}}function re(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=C}}function ie(e){return function(t){return null==t?void 0:t[e]}}const oe=ie("byteLength"),ue=re(oe);var se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ae=y?function(e){return S?S(e)&&!J(e):ue(e)&&se.test(v.call(e))}:ne(!1),ce=ie("length");function le(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=j.length,r=e.constructor,i=K(r)&&r.prototype||f,o="constructor";for(Q(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=j[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function fe(e){if(!M(e))return[];if(b)return b(e);var t=[];for(var n in e)Q(e,n)&&t.push(n);return x&&le(e,t),t}function he(e){if(null==e)return!0;var t=ce(e);return"number"==typeof t&&(Y(e)||R(e)||Z(e))?0===t:0===ce(fe(e))}function pe(e,t){var n=fe(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var u=n[o];if(t[u]!==i[u]||!(u in i))return!1}return!0}function de(e){return e instanceof de?e:this instanceof de?void(this._wrapped=e):new de(e)}function ve(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,oe(e))}de.VERSION=a,de.prototype.value=function(){return this._wrapped},de.prototype.valueOf=de.prototype.toJSON=de.prototype.value,de.prototype.toString=function(){return String(this._wrapped)};var me="[object DataView]";function ye(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&ge(e,t,n,r)}function ge(e,t,n,r){e instanceof de&&(e=e._wrapped),t instanceof de&&(t=t._wrapped);var i=v.call(e);if(i!==v.call(t))return!1;if(z&&"[object Object]"==i&&J(e)){if(!J(t))return!1;i=me}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return h.valueOf.call(e)===h.valueOf.call(t);case"[object ArrayBuffer]":case me:return ge(ve(e),ve(t),n,r)}var o="[object Array]"===i;if(!o&&ae(e)){if(oe(e)!==oe(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,s=t.constructor;if(u!==s&&!(K(u)&&u instanceof u&&K(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var a=(n=n||[]).length;a--;)if(n[a]===e)return r[a]===t;if(n.push(e),r.push(t),o){if((a=e.length)!==t.length)return!1;for(;a--;)if(!ye(e[a],t[a],n,r))return!1}else{var c,l=fe(e);if(a=l.length,fe(t).length!==a)return!1;for(;a--;)if(!Q(t,c=l[a])||!ye(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}function _e(e,t){return ye(e,t)}function be(e){if(!M(e))return[];var t=[];for(var n in e)t.push(n);return x&&le(e,t),t}function we(e){var t=ce(e);return function(n){if(null==n)return!1;var r=be(n);if(ce(r))return!1;for(var i=0;i<t;i++)if(!K(n[e[i]]))return!1;return e!==je||!K(n[Se])}}var Se="forEach",Oe=["clear","delete"],Ee=["get","has","set"],xe=Oe.concat(Se,Ee),je=Oe.concat(Ee),Ce=["add"].concat(Oe,Se,"has");const Ae=G?we(xe):N("Map"),Me=G?we(je):N("WeakMap"),Ie=G?we(Ce):N("Set"),De=N("WeakSet");function ke(e){for(var t=fe(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Te(e){for(var t=fe(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function Ne(e){for(var t={},n=fe(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Re(e){var t=[];for(var n in e)K(e[n])&&t.push(n);return t.sort()}function Pe(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],u=e(o),s=u.length,a=0;a<s;a++){var c=u[a];t&&void 0!==n[c]||(n[c]=o[c])}return n}}const qe=Pe(be),Ue=Pe(fe),Be=Pe(be,!0);function Fe(e){if(!M(e))return{};if(w)return w(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Le(e,t){var n=Fe(e);return t&&Ue(n,t),n}function We(e){return M(e)?Y(e)?e.slice():qe({},e):e}function Ve(e,t){return t(e),e}function Ke(e){return Y(e)?e:[e]}function $e(e){return de.toPath(e)}function ze(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Ge(e,t,n){var r=ze(e,$e(t));return D(r)?n:r}function He(e,t){for(var n=(t=$e(t)).length,r=0;r<n;r++){var i=t[r];if(!Q(e,i))return!1;e=e[i]}return!!n}function Je(e){return e}function Ye(e){return e=Ue({},e),function(t){return pe(t,e)}}function Qe(e){return e=$e(e),function(t){return ze(t,e)}}function Xe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Ze(e,t,n){return null==e?Je:K(e)?Xe(e,t,n):M(e)&&!Y(e)?Ye(e):Qe(e)}function et(e,t){return Ze(e,t,1/0)}function tt(e,t,n){return de.iteratee!==et?de.iteratee(e,t):Ze(e,t,n)}function nt(e,t,n){t=tt(t,n);for(var r=fe(e),i=r.length,o={},u=0;u<i;u++){var s=r[u];o[s]=t(e[s],s,e)}return o}function rt(){}function it(e){return null==e?rt:function(t){return Ge(e,t)}}function ot(e,t,n){var r=Array(Math.max(0,e));t=Xe(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function ut(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}de.toPath=Ke,de.iteratee=et;const st=Date.now||function(){return(new Date).getTime()};function at(e){var t=function(t){return e[t]},n="(?:"+fe(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}const ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},lt=at(ct),ft=at(Ne(ct)),ht=de.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pt=/(.)^/,dt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vt=/\\|'|\r|\n|\u2028|\u2029/g;function mt(e){return"\\"+dt[e]}var yt=/^\s*(\w|\$)+\s*$/;function gt(e,t,n){!t&&n&&(t=n),t=Be({},t,de.templateSettings);var r=RegExp([(t.escape||pt).source,(t.interpolate||pt).source,(t.evaluate||pt).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,u,s){return o+=e.slice(i,s).replace(vt,mt),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(o+="';\n"+u+"\n__p+='"),t})),o+="';\n";var u,s=t.variable;if(s){if(!yt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{u=new Function(s,"_",o)}catch(e){throw e.source=o,e}var a=function(e){return u.call(this,e,de)};return a.source="function("+s+"){\n"+o+"}",a}function _t(e,t,n){var r=(t=$e(t)).length;if(!r)return K(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=K(o)?o.call(e):o}return e}var bt=0;function wt(e){var t=++bt+"";return e?e+t:t}function St(e){var t=de(e);return t._chain=!0,t}function Ot(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Fe(e.prototype),u=e.apply(o,i);return M(u)?u:o}var Et=A((function(e,t){var n=Et.placeholder,r=function(){for(var i=0,o=t.length,u=Array(o),s=0;s<o;s++)u[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)u.push(arguments[i++]);return Ot(e,r,this,this,u)};return r}));Et.placeholder=de;const xt=Et,jt=A((function(e,t,n){if(!K(e))throw new TypeError("Bind must be called on a function");var r=A((function(i){return Ot(e,r,t,this,n.concat(i))}));return r})),Ct=re(ce);function At(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,u=ce(e);o<u;o++){var s=e[o];if(Ct(s)&&(Y(s)||Z(s)))if(t>1)At(s,t-1,n,r),i=r.length;else for(var a=0,c=s.length;a<c;)r[i++]=s[a++];else n||(r[i++]=s)}return r}const Mt=A((function(e,t){var n=(t=At(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=jt(e[r],e)}return e}));function It(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return Q(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}const Dt=A((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),kt=xt(Dt,de,1);function Tt(e,t,n){var r,i,o,u,s=0;n||(n={});var a=function(){s=!1===n.leading?0:st(),r=null,u=e.apply(i,o),r||(i=o=null)},c=function(){var c=st();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,u=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(a,l)),u};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}function Nt(e,t,n){var r,i,o,u,s,a=function(){var c=st()-i;t>c?r=setTimeout(a,t-c):(r=null,n||(u=e.apply(s,o)),r||(o=s=null))},c=A((function(c){return s=this,o=c,i=st(),r||(r=setTimeout(a,t),n&&(u=e.apply(s,o))),u}));return c.cancel=function(){clearTimeout(r),r=o=s=null},c}function Rt(e,t){return xt(t,e)}function Pt(e){return function(){return!e.apply(this,arguments)}}function qt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Ut(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Bt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Ft=xt(Bt,2);function Lt(e,t,n){t=tt(t,n);for(var r,i=fe(e),o=0,u=i.length;o<u;o++)if(t(e[r=i[o]],r,e))return r}function Wt(e){return function(t,n,r){n=tt(n,r);for(var i=ce(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}const Vt=Wt(1),Kt=Wt(-1);function $t(e,t,n,r){for(var i=(n=tt(n,r,1))(t),o=0,u=ce(e);o<u;){var s=Math.floor((o+u)/2);n(e[s])<i?o=s+1:u=s}return o}function zt(e,t,n){return function(r,i,o){var u=0,s=ce(r);if("number"==typeof o)e>0?u=o>=0?o:Math.max(o+s,u):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(d.call(r,u,s),te))>=0?o+u:-1;for(o=e>0?u:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}const Gt=zt(1,Vt,$t),Ht=zt(-1,Kt);function Jt(e,t,n){var r=(Ct(e)?Vt:Lt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Yt(e,t){return Jt(e,Ye(t))}function Qt(e,t,n){var r,i;if(t=Xe(t,n),Ct(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=fe(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Xt(e,t,n){t=tt(t,n);for(var r=!Ct(e)&&fe(e),i=(r||e).length,o=Array(i),u=0;u<i;u++){var s=r?r[u]:u;o[u]=t(e[s],s,e)}return o}function Zt(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!Ct(t)&&fe(t),u=(o||t).length,s=e>0?0:u-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<u;s+=e){var a=o?o[s]:s;r=n(r,t[a],a,t)}return r}(t,Xe(n,i,4),r,o)}}const en=Zt(1),tn=Zt(-1);function nn(e,t,n){var r=[];return t=tt(t,n),Qt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function rn(e,t,n){return nn(e,Pt(tt(t)),n)}function on(e,t,n){t=tt(t,n);for(var r=!Ct(e)&&fe(e),i=(r||e).length,o=0;o<i;o++){var u=r?r[o]:o;if(!t(e[u],u,e))return!1}return!0}function un(e,t,n){t=tt(t,n);for(var r=!Ct(e)&&fe(e),i=(r||e).length,o=0;o<i;o++){var u=r?r[o]:o;if(t(e[u],u,e))return!0}return!1}function sn(e,t,n,r){return Ct(e)||(e=ke(e)),("number"!=typeof n||r)&&(n=0),Gt(e,t,n)>=0}const an=A((function(e,t,n){var r,i;return K(t)?i=t:(t=$e(t),r=t.slice(0,-1),t=t[t.length-1]),Xt(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=ze(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function cn(e,t){return Xt(e,Qe(t))}function ln(e,t){return nn(e,Ye(t))}function fn(e,t,n){var r,i,o=-1/0,u=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,a=(e=Ct(e)?e:ke(e)).length;s<a;s++)null!=(r=e[s])&&r>o&&(o=r);else t=tt(t,n),Qt(e,(function(e,n,r){((i=t(e,n,r))>u||i===-1/0&&o===-1/0)&&(o=e,u=i)}));return o}function hn(e,t,n){var r,i,o=1/0,u=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,a=(e=Ct(e)?e:ke(e)).length;s<a;s++)null!=(r=e[s])&&r<o&&(o=r);else t=tt(t,n),Qt(e,(function(e,n,r){((i=t(e,n,r))<u||i===1/0&&o===1/0)&&(o=e,u=i)}));return o}var pn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function dn(e){return e?Y(e)?d.call(e):R(e)?e.match(pn):Ct(e)?Xt(e,Je):ke(e):[]}function vn(e,t,n){if(null==t||n)return Ct(e)||(e=ke(e)),e[ut(e.length-1)];var r=dn(e),i=ce(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,u=0;u<t;u++){var s=ut(u,o),a=r[u];r[u]=r[s],r[s]=a}return r.slice(0,t)}function mn(e){return vn(e,1/0)}function yn(e,t,n){var r=0;return t=tt(t,n),cn(Xt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function gn(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=tt(r,i),Qt(n,(function(t,i){var u=r(t,i,n);e(o,t,u)})),o}}const bn=gn((function(e,t,n){Q(e,n)?e[n].push(t):e[n]=[t]})),wn=gn((function(e,t,n){e[n]=t})),Sn=gn((function(e,t,n){Q(e,n)?e[n]++:e[n]=1})),On=gn((function(e,t,n){e[n?0:1].push(t)}),!0);function En(e){return null==e?0:Ct(e)?e.length:fe(e).length}function xn(e,t,n){return t in n}const jn=A((function(e,t){var n={},r=t[0];if(null==e)return n;K(r)?(t.length>1&&(r=Xe(r,t[1])),t=be(e)):(r=xn,t=At(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var u=t[i],s=e[u];r(s,u,e)&&(n[u]=s)}return n})),Cn=A((function(e,t){var n,r=t[0];return K(r)?(r=Pt(r),t.length>1&&(n=t[1])):(t=Xt(At(t,!1,!1),String),r=function(e,n){return!sn(t,n)}),jn(e,r,n)}));function An(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Mn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:An(e,e.length-t)}function In(e,t,n){return d.call(e,null==t||n?1:t)}function Dn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:In(e,Math.max(0,e.length-t))}function kn(e){return nn(e,Boolean)}function Tn(e,t){return At(e,t,!1)}const Nn=A((function(e,t){return t=At(t,!0,!0),nn(e,(function(e){return!sn(t,e)}))})),Rn=A((function(e,t){return Nn(e,t)}));function Pn(e,t,n,r){k(t)||(r=n,n=t,t=!1),null!=n&&(n=tt(n,r));for(var i=[],o=[],u=0,s=ce(e);u<s;u++){var a=e[u],c=n?n(a,u,e):a;t&&!n?(u&&o===c||i.push(a),o=c):n?sn(o,c)||(o.push(c),i.push(a)):sn(i,a)||i.push(a)}return i}const qn=A((function(e){return Pn(At(e,!0,!0))}));function Un(e){for(var t=[],n=arguments.length,r=0,i=ce(e);r<i;r++){var o=e[r];if(!sn(t,o)){var u;for(u=1;u<n&&sn(arguments[u],o);u++);u===n&&t.push(o)}}return t}function Bn(e){for(var t=e&&fn(e,ce).length||0,n=Array(t),r=0;r<t;r++)n[r]=cn(e,r);return n}const Fn=A(Bn);function Ln(e,t){for(var n={},r=0,i=ce(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Wn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function Vn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(d.call(e,r,r+=t));return n}function Kn(e,t){return e._chain?de(t).chain():t}function $n(e){return Qt(Re(e),(function(t){var n=de[t]=e[t];de.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),Kn(this,n.apply(de,e))}})),de}Qt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=l[e];de.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Kn(this,n)}})),Qt(["concat","join","slice"],(function(e){var t=l[e];de.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Kn(this,e)}}));const zn=de;var Gn=$n(e);Gn._=Gn;const Hn=Gn;class Jn extends o.Component{constructor(e){super(),this.state={over:e.isOver}}componentWillReceiveProps(e){this.state.over=e.isOver}render(){const{display_name:e}=this.props.author;return(0,t.createElement)("div",{onMouseOver:this.onMouseOver.bind(this,!0),onMouseOut:this.onMouseOver.bind(this,!1),onClick:this.onClick.bind(this),className:"additional-authors-search-item "+(this.state.over?"is-over":"")},e)}onMouseOver(e){this.setState({over:e})}onClick(){this.props.onSelect(this.props.author)}}const Yn=Jn;class Qn extends o.Component{constructor(e){super(),this.state={over:e.isOver}}componentWillReceiveProps(e){this.state.over=e.isOver}render(){return(0,t.createElement)("div",{onMouseOver:this.onMouseOver.bind(this,!0),onMouseOut:this.onMouseOver.bind(this,!1),onClick:this.onClick.bind(this),className:"additional-authors-new-item "+(this.state.over?"is-over":"")},'New user "',this.props.name,'"')}onMouseOver(e){this.setState({over:e})}onClick(){this.props.onSelect(this.props.name)}}const Xn=Qn;class Zn extends o.Component{constructor(e){super(e),this.state={query:"",over_index:0,search_result:[],focus:!1}}render(){const{query:e}=this.state;return(0,t.createElement)("div",{className:"additional-authors-search",onKeyUp:this.onKeyUp.bind(this)},(0,t.createElement)("label",null,this.props.languages.label,(0,t.createElement)("br",null),(0,t.createElement)("input",{className:"additional-authors-search__input",type:"text",value:e,onKeyDown:this.onKeyDown.bind(this),onChange:this.onChange.bind(this),onFocus:this.onFocusSearch.bind(this,!0),onBlur:this.onFocusSearch.bind(this,!1)})),this.renderList())}renderList(){const{selected:e}=this.props,{over_index:n,search_result:r,focus:i,query:o}=this.state;if(i){const e=""!==o?(0,t.createElement)(Xn,{name:o,isOver:n===r.length,onSelect:this.onNewItem.bind(this)}):null;return(0,t.createElement)("div",{className:"additional-authors-search-list"},r.map(((e,r)=>(0,t.createElement)(Yn,{key:e.ID,author:e,onSelect:this.onSelect.bind(this,e),isOver:n===r}))),e)}return null}onChange(e){e&&(this.state.query=e.target.value);const{users:t,selected:n}=this.props,{query:r}=this.state;let i=[];if(""!==r){for(let e of t)if(e.display_name.toLowerCase().indexOf(r.toLowerCase())>-1){if(n.indexOf(e.ID+"")>=0||n.indexOf(parseInt(e.ID))>=0)continue;i.unshift(e)}}else i=[];this.setState({over_index:0,search_result:i})}onFocusSearch(e){clearTimeout(this.closeTimeout),e?this.setState({focus:e}):this.closeTimeout=setTimeout((()=>{this.setState({focus:e})}),600)}onSelect(e){this.props.onSelect(e),this.setState({focus:!1}),this.onChange()}onNewItem(e){""!==e&&(this.props.onSelect({ID:0,display_name:e,user_nicename:"-"}),this.setState({query:"",search_result:[]}))}onKeyDown(e){13===e.keyCode&&this.state.focus?(e.preventDefault(),void 0!==this.state.search_result[this.state.over_index]&&this.onSelect(this.state.search_result[this.state.over_index])):this.setState({focus:!0})}onKeyUp(e){this.state.focus&&(27!==e.keyCode?(38===e.keyCode?(e.preventDefault(),this.state.over_index--):40===e.keyCode&&(e.preventDefault(),this.state.over_index++),this.state.over_index>this.state.search_result.length?this.state.over_index=this.state.search_result.length:this.state.over_index<0&&(this.state.over_index=0),this.setState({over_index:this.state.over_index})):this.setState({search_result:[]}))}}Zn.defaultProps={users:[]},Zn.propTypes={users:s().array.isRequired,selected:s().array.isRequired,languages:s().object.isRequired,onSelect:s().func.isRequired};const er=Zn,tr=({onClick:e})=>(0,t.createElement)("span",{className:"author-item__delete",onClick:e},"×"),nr=({author:e})=>{const{ID:n,display_name:r}=e;return n>0?(0,t.createElement)("a",{href:`/wp-admin/user-edit.php?user_id=${n}`,target:"_blank"},r):r},rr=({author:e,isMainAuthor:n,index:r,onUnselect:i,onChangePosition:o})=>(0,t.createElement)("div",{className:`author-item${n?" is-main-author":""}${e.ID<0?" is-new-author":""}`},(0,t.createElement)("span",{className:"autor-item__name"},(0,t.createElement)(nr,{author:e}),(0,t.createElement)("span",{className:"author-item__nicename"},e.user_nicename)),n?null:(0,t.createElement)(tr,{onClick:i}),(0,t.createElement)("span",{className:"author-item__move author-item__up",onClick:()=>o(r-1)},"▲"),(0,t.createElement)("span",{className:"author-item__move author-item__down",onClick:()=>o(r+1)},"▼"),(0,t.createElement)("input",{type:"hidden",name:"additional_authors[ids][]",value:e.ID}),(0,t.createElement)("input",{type:"hidden",name:"additional_authors[names][]",value:e.display_name}));rr.defaultProps={author:{ID:-1,display_name:"",user_login:""},className:""},rr.propTypes={author:s().object.isRequired,index:s().number.isRequired,onUnselect:s().func.isRequired,onChangePosition:s().func.isRequired,isMainAuthor:s().bool.isRequired};const ir=rr;class or extends o.Component{constructor(e){super(e),this.state={users:e.users,selected:this.props.selected,new_user_id:-1}}componentDidMount(){this.dispatchChanged(),this.getMainUserControl()}render(){const{language:e,isGutenbergActive:n}=this.props,{selected:r,users:i,new_users:o,main_author:u}=this.state;let s=null;return n&&(s=(0,t.createElement)("input",{type:"hidden",name:"additional_authors_is_gutenberg",value:"it-is"})),r.map((e=>e.ID)),(0,t.createElement)("div",{className:"additional-authors"},s,(0,t.createElement)(er,{users:i,selected:r,languages:e,onSelect:this.onSelect.bind(this)}),(0,t.createElement)("hr",null),(0,t.createElement)("p",null,(0,t.createElement)("i",null,e.description)),(0,t.createElement)("div",null,r.map(((e,r)=>{if(n&&0===r)return null;for(const n in i){if(!i.hasOwnProperty(n))continue;const o=i[n];if(parseInt(o.ID)===parseInt(e))return(0,t.createElement)(ir,{key:e,index:r,author:o,onUnselect:this.onUnselect.bind(this,o),onChangePosition:this.onChangePosition.bind(this,o,r),isMainAuthor:0===r})}return null}))))}onSelect(e){0==e.ID&&(e.ID=this.state.new_user_id--,this.state.users.push(e)),this.state.selected.push(e.ID),this.state.selected=Hn.unique(this.state.selected),this.setState({selected:this.state.selected}),this.dispatchChanged()}onUnselect(e){let t=[];if(this.state.main_author!=e.ID){for(let n of this.state.selected)n!=e.ID&&t.push(n);this.setState({selected:t}),this.dispatchChanged()}else console.log("you cannot delete main author")}onChangePosition(e,t,n){let r=[];if(!(0==n&&e.ID<=0)){for(let e in this.state.selected)this.state.selected.hasOwnProperty(e)&&(e==t?r.push(this.state.selected[n]):e==n?r.push(this.state.selected[t]):r.push(this.state.selected[e]));this.setMainUserID(r[0]),this.setState({selected:r,main_author:this.getMainUserID()}),this.dispatchChanged()}}onMainAuthorChanged(e){const t=e.target.value;let n=0;for(;n<this.state.selected.length;){if(this.state.selected[n]===t){this.state.selected.splice(n,1);break}n++}this.state.selected.unshift(t),this.setState({selected:this.state.selected})}getMainUserControl(){if(this.props.isGutenbergActive)return null;if(null!=this._main_user_select)return this._main_user_select;let e=document.getElementById("post_author_override");return null==e&&(e=document.getElementById("post-author-selector-1")),null!=e&&(this._main_user_select=e,this._main_user_select.addEventListener("change",this.onMainAuthorChanged.bind(this))),this._main_user_select}setMainUserID(e){const t=this.getMainUserControl();void 0!==t&&null!=t&&(t.value=e,t.dispatchEvent(new Event("change")))}getMainUserID(){const e=this.getMainUserControl();return null!=e?e.value:-1}isSelected(e){for(let t of this.state.selected)if(t===e)return!0;return!1}dispatchChanged(){clearTimeout(this.dispatchTimeout),this.dispatchTimeout=setTimeout((()=>{const e=[];for(const t of this.state.selected)for(const n of this.props.users)parseInt(n.ID)===parseInt(t)&&e.push({...n});this.props.onAuthorsChange(e)}),300)}}or.defaultProps={users:[],language:{},onAuthorsChange:()=>{}},or.propTypes={isGutenbergActive:s().bool.isRequired,users:s().array.isRequired,selected:s().array.isRequired,language:s().object.isRequired,onAuthorsChange:s().func};const ur=or;document.addEventListener("DOMContentLoaded",(function(e){const{language:n,users:r,selected:o,root_id:u}=AdditionalAuthors;i().render((0,t.createElement)(ur,{isGutenbergActive:!1,language:n,users:r,selected:o,onAuthorsChange:e=>{document.dispatchEvent(new CustomEvent("onAdditionalAuthorsChange",{detail:e}))}}),document.getElementById(u))}))})()})();
//# sourceMappingURL=additional-authors-meta-box.js.map